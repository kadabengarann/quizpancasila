<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <meta http-equiv="X-UA-Compatible" content="ie=edge">
	  <title>Quiz Pancasila</title>
	  <link rel="manifest" href="manifest.json" />
	  <meta name="theme-color" content="pink" />
	  <link rel="stylesheet" href="./css/gamestyle.css" media="screen">
    <link rel="stylesheet" href="./css/startstyle.css" media="screen">
    <link rel="stylesheet" href="./css/style.css" media="screen">
   
    <link rel="shortcut icon" href="./img/icon.png" type="image/x-icon">
    
	  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <!-- update the version number as needed -->
  </head>
  <body>
    <div class="notification">A new version of this app is available. Click <a id="reload"> here </a> to update.</div>
    <div class="ovrLoad">
      <div class="loader" style="display: inline;"></div>
    </div>
      <div class="overlay">
        <div class="mesej">
          <img class="ovrImg" style="display: none;" src="./img/piala.png" alt="">
          <p id="stageNumber">2</p>
          <div id="garisStage"></div>
          <p id="stageText">Stage 2</p>
        </div>
        <div class="tutorial">
          <p class="close">X</p>
          <img src="img/howto1.png" loading="lazy"  alt="Pro tips: You can win this game by answerring all questions correctly" class="howto1">
        </div>
      </div>
      <div class="loginOvr">
      <div class="loginContainer">
        <div class="left">
          <?xml version="1.0" encoding="UTF-8"?>
          <svg enable-background="new 0 0 300 302.5" version="1.1" viewBox="0 0 300 302.5" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
            <style type="text/css">
        .st01{fill:#fff;}
    </style>
                <path class="st01" d="m126 302.2c-2.3 0.7-5.7 0.2-7.7-1.2l-105-71.6c-2-1.3-3.7-4.4-3.9-6.7l-9.4-126.7c-0.2-2.4 1.1-5.6 2.8-7.2l93.2-86.4c1.7-1.6 5.1-2.6 7.4-2.3l125.6 18.9c2.3 0.4 5.2 2.3 6.4 4.4l63.5 110.1c1.2 2 1.4 5.5 0.6 7.7l-46.4 118.3c-0.9 2.2-3.4 4.6-5.7 5.3l-121.4 37.4zm63.4-102.7c2.3-0.7 4.8-3.1 5.7-5.3l19.9-50.8c0.9-2.2 0.6-5.7-0.6-7.7l-27.3-47.3c-1.2-2-4.1-4-6.4-4.4l-53.9-8c-2.3-0.4-5.7 0.7-7.4 2.3l-40 37.1c-1.7 1.6-3 4.9-2.8 7.2l4.1 54.4c0.2 2.4 1.9 5.4 3.9 6.7l45.1 30.8c2 1.3 5.4 1.9 7.7 1.2l52-16.2z"/>
    </svg>      
        </div>
        <div class="authContainer">
          <div class="loader"></div>
        
      </div>
    
            
      </div>
    </div>
    
    
      <div id="pre-start">
        <div class="judulStart">
          <h2 class="greeting" style="display: none;"><a onclick="displaylogout()">Hi, tot</a></h2>
          <button style="display: none;" class="logout " onclick="logout()">
            Logout
           </button>  
          <div class="isiJudul">
            <img src="img/Jumbo.svg" alt="">
            <h1 id="bigTitle">Quiz Pancasila</h1>
          </div>
        </div>
        <div class="buttonSection">
          <button id="startBtn"><img src="img/play buton.svg" alt=""> Play</button>
          <button id="highScoreBtn">High Score</button>
          <button id="howtoBtn">?</button>
        </div>
      </div>
      <div class="topBar">
        <div id="BarProgress">
        </div>
        <div class="lifeline">
          <button class="fifty-fifty">50/50</button>
          <button class="free-pass">Free pass</button>
        </div>
      </div>
      <div class="high-score">
        <div class="highScoreContainer">
          <h2>Scoreboard</h2>
      <!-- Display our Scoreboard here -->
      <table id="scoreboard">
          <tr>
              <th>Name</th>
              <th>Score</th>
          </tr>
      </table>
      <p class="close">X</p>
        </div>
  
      </div>
      <div class="main-body" >
          
        <div class="container">
          <div class="badanSoal">
            <div class="soalSection">
              <p class="question"></p>
            </div>
            <div class="jawaban">
              <ul class="answers kiri"></ul>
              <ul class="answers kanan"></ul>	
            </div>
          
            <button class="restart">Play Again</button>
            <button class="exit">Exit</button>
          </div>
          <div class="samping">
            <div id="progresSamping">
              <div class="garisStage"></div>
              <div class="garisStage"></div>
            </div>
            <div class="lifeline">
              <button class="fifty-fifty">50/50</button>
              <button class="free-pass">Free pass</button>
            </div>
          </div>
        </div>
        
      </div><!-- .main-body -->
    <audio id="bSound" src="./audio/background.mp3"></audio>
    <audio id="restartSound" src="./audio/Again.wav"></audio>
    <audio id="rightSound" src="./audio/Click2.wav"></audio>
    <audio id="wrongSound" src="./audio/wrong.mp3"></audio>
    <audio id="clickSound" src="./audio/Click.wav"></audio>
    <audio id="stageSound" src="./audio/nextStage.mp3"></audio>
    <audio id="winSound" src="./audio/win.mp3"></audio>
    
    <script defer src="/__/firebase/7.14.3/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/7.14.3/firebase-auth.js"></script>
    <script defer src="/__/firebase/7.14.3/firebase-firestore.js"></script>
    <script defer src="/__/firebase/7.14.3/firebase-analytics.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="./questions.json"></script> -->
    <script src="prograssBarScore.js" async></script>

    <script src="app.js"></script>
    <script src="game.js" async></script>
    <script src="Progressbar.js" async></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.14.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script  src="https://www.gstatic.com/firebasejs/7.14.3/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyB4JQyGIQOqBjkxjhLyhbID_hlmt_HgGKU",
    authDomain: "quizpancasila-proto.firebaseapp.com",
    databaseURL: "https://quizpancasila-proto.firebaseio.com",
    projectId: "quizpancasila-proto",
    storageBucket: "quizpancasila-proto.appspot.com",
    messagingSenderId: "821501265650",
    appId: "1:821501265650:web:2923cf7e0ebf58957f726b",
    measurementId: "G-DL0GWCFSD5"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
    <script>
      	//Register Service worker
	let newWorker;

// The click event on the notification
if ("serviceWorker"in navigator) {
  window.addEventListener("load",function () {
    navigator.serviceWorker
    .register("\service-worker.js")
    .then(reg => {
          reg.addEventListener('updatefound', () => {
        console.log("Pendaftaran Service Worker Berhasil");
        newWorker = reg.installing;
        newWorker.addEventListener('statechange', () => {

              // Has service worker state changed?
                switch (newWorker.state) {
              case 'installed':
              // There is a new service worker available, show the notification
                      if (navigator.serviceWorker.controller) {
                let notification =$('.notification');
                console.log("heyyy ada service worker baru nihhh");
                    notification.show();
                      }
                console.log("SW Installed");
                      break;
                }
            });
      });
    }).catch(function () {  
      console.log("Pendaftaran Service Worker gagal");
    });
  });
}else{
  console.log("Service Worker belum didukung browser ini.");
}

document.getElementById('reload').addEventListener('click', function(){
  newWorker.postMessage({
     action: 'skipWaiting' });
});
let refreshing;
// The event listener that is fired when the service worker updates
// Here we reload the page
navigator.serviceWorker.addEventListener('controllerchange', function () {
    if (refreshing) return;
  window.location.reload();
  refreshing = true;
});
</script>

</body>
</html>
<!-- ⠀⠀⠀
	    ⣠⣶⡾⠏⠉⠙⠳⢦⡀⠀⠀⠀ ⢠⠞⠉⠙⠲⡀⠀ ⠀⠀⠀
    ⣴⠿⠏⠀⠀⠀⠀⠀⠀  ⢳⡀⠀⡏⠀⠀⠀⠀⠀ ⢷ ⠀⠀
   ⣟⣋⡀⢀⣀⣀⡀⠀ ⣀⡀ ⣧⠀⢸⠀        ⡇ ⠀⠀
   ⣯⡭⠁⠸⣛⣟⠆⡴⣻⡲  ⣿⠀⣸    OK   ⡇ ⠀⠀
   ⣟⣿⡭⠀⠀⠀⠀⠀⢱⠀⠀  ⣿⠀⢹ ⠀       ⡇ ⠀⠀
   ⠙⢿⣯⠄⠀⠀⠀⢀⡀⠀ ⠀⡿ ⠀⡇⠀ ⠀⠀   ⢸
⠀⠀⠀⠀⠹⣶⠆⠀⠀⠀⠀⠀ ⡴⠃⠀  ⢸       ⡼
	     ⣷⡦⢤⡤⢤⣞⣁⠀⠀⠀⠀⠘⠤⣄⣠⢠⠞⠀⠀⠀⠀ ⠀⠀
  ⢀⣤⣴⣿⣏⠁⠀⠀⠸⣏⢯⣷⣖⣦⡀⠀⠀⠀⠀⠀⠀ 
⢀⣾⣽⣿⣿⣿⣿⠛⢲⣶⣾⢉⡷⣿⣿⠵⣿⠀⠀⠀⠀⠀ 
⣼⣿⠍⠉⣿⡭⠉⠙⢺⣇⣼⡏⠀⠀⠀⣄⢸⠀⠀⠀⠀⠀⠀ 
⣿⣿⣧⣀⣿.........⣀⣰⣏⣘⣆⣀⠀⠀ -->
